<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <script type="text/javascript" src="/js/jquery-3.3.1.min.js"></script>
</head>
<body>
    <form action="/login" method="post">
            <input id="name" type="text" name="name" placeholder="账号">
            <input id="password" type="password" name="password"  placeholder="密码">
            <button id="login" type="button">登录</button>
    </form>
</div>
</body>
<script type="text/javascript">
    $(document).ready(function() {
        document.getElementById("login").onclick = function () {
            var name = $("#name").val();
            var password = $("#password").val();
            $.ajax({
                type: 'post',
                dataType: 'json',
                url: "/login",
                data: JSON.stringify({"name": name, "password": password}),
                contentType: 'application/json',
                success: function (data) {
                    if (data.key == 0) {
                        window.location.href = "shop.html";
                    } else {
                        alert(data.msg);
                    }
                },
                error: function (result) {
                    alert("error")
                }
            })
        }
    })
</script>
</html>